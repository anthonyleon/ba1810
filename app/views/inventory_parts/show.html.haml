= render 'layouts/navbar'
%main
  #banner
    %h1
      = @inventory_part.description
      = @inventory_part.serial_num
  #main-container
    .col-md-6
      .container
        %h4
          Part number: #{@inventory_part.part_num}
        %h4
          Condition: #{@inventory_part.condition}
        %h4
          Manufacturer: #{@inventory_part.manufacturer}
        %br/
    .col-md-6
      - if @inventory_part.company == current_user
        - if !@document.errors.empty?
          .alert.alert-error
            %ul
              - @document.errors.full_messages.each do |msg|
                %li= msg
        .container
          %div
            Accepted formats: .pdf .doc .docx .xlsx .xls .jpeg .jpg .html
          %br/
          = form_for ([@inventory_part, @document]), html: { multipart: true, class: "form-inline" } do |f|
            = f.text_field :name, class: "form-control", placeholder: "Title"
            = f.file_field :attachment
            = f.submit "Upload", class: "btn btn-primary"
    #documents.col-md-12
      - if @inventory_part.documents.empty?
        %p There are no documents associated with this part.
      - else
        %table.table.table-hover
          %thead
            %tr
              %th Name
              %th Download Link
              %th Â 
          %tbody
            - @inventory_part.documents.each do |document|
              %tr
                %td= document.name
                %td= link_to 'Download', document.attachment_url
                - if document.inventory_part.company == current_user
                  %td= button_to 'Delete', document, method: :delete, data:  { confirm: 'Are you sure that you wish to delete document?'}, class: 'btn'
    - if @bid
      - if @inventory_part.company == current_user
        = link_to 'Edit', edit_inventory_part_path(@inventory_part)
        |
        \#{link_to 'Back to Inventory', inventory_parts_path} |
        \#{link_to 'Back to Auction',auction_path(@bid.auction)}
      - else
        = link_to 'Back to Auction',auction_path(@bid.auction)
